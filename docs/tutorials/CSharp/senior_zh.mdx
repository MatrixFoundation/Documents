---
sidebar_label: C# é«˜çº§ç‰¹æ€§
title: C# é«˜çº§ç‰¹æ€§
sidebar_position: 6
---

## ä¸€ã€å†…å­˜ç®¡ç†å’Œåƒåœ¾å›æ”¶ ğŸ“¦

åœ¨`C#`ä¸­ï¼Œç”±äºåƒåœ¾æ”¶é›†å™¨æœºåˆ¶ï¼Œå†…å­˜ç®¡ç†æ˜¯è‡ªåŠ¨å¤„ç†çš„ã€‚

:::info

åƒåœ¾å›æ”¶ ï¼ˆGCï¼‰ æ˜¯è¿è¡Œæ—¶è‡ªåŠ¨å›æ”¶ä¸å†ä½¿ç”¨çš„å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜çš„è¿‡ç¨‹ï¼Œå¯ä»¥é˜²æ­¢å†…å­˜æ³„æ¼å¹¶ä¿ƒè¿›å†…å­˜çš„é«˜æ•ˆåˆ©ç”¨ã€‚

:::

å®ƒè‡ªåŠ¨è¯†åˆ«ç¨‹åºä¸å†ä½¿ç”¨çš„å¯¹è±¡å¹¶é‡Šæ”¾å®ƒä»¬å ç”¨çš„å†…å­˜ã€‚è™½ç„¶åƒåœ¾æ”¶é›†å™¨ç®€åŒ–äº†å†…å­˜ç®¡ç†ï¼Œä½†å¼€å‘äººå‘˜éœ€è¦ä»”ç»†ç®¡ç†ä¸å— .NET åƒåœ¾æ”¶é›†å™¨æ§åˆ¶çš„éæ‰˜ç®¡èµ„æºï¼Œä¾‹å¦‚æ•°æ®åº“è¿æ¥æˆ–æ–‡ä»¶æµã€‚

:::tip

æ ˆå’Œå †ï¼šåœ¨ `C#` ä¸­ï¼Œå†…å­˜åˆ†ä¸ºä¸¤ä¸ªä¸»è¦åŒºåŸŸï¼šæ ˆå’Œå †ã€‚æ ˆç”¨äºå­˜å‚¨å€¼ç±»å‹å’Œæ–¹æ³•è°ƒç”¨ä¿¡æ¯ï¼Œè€Œå †ç”¨äºåŠ¨æ€åˆ†é…å†…å­˜ï¼Œä¸»è¦ç”¨äºå¼•ç”¨ç±»å‹ã€‚

:::

å¦‚æœå¼€å‘äººå‘˜ä¸é‡Šæ”¾è¿™äº›èµ„æºï¼Œå®ƒä»¬å°†åœ¨åº”ç”¨ç¨‹åºçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­æŒç»­å­˜åœ¨ï¼Œå¯èƒ½å¯¼è‡´å†…å­˜æ³„æ¼å’Œç³»ç»Ÿå‹åŠ›ã€‚

:::tip

å€¼ç±»å‹ä¸å¼•ç”¨ç±»å‹ï¼šå€¼ç±»å‹ï¼ˆä¾‹å¦‚ï¼Œintï¼Œfloatï¼‰å­˜å‚¨åœ¨æ ˆä¸Šï¼Œè€Œå¼•ç”¨ç±»å‹ï¼ˆä¾‹å¦‚ï¼Œç±»ï¼Œæ•°ç»„ï¼‰åˆ†é…åœ¨å †ä¸Šã€‚å¼•ç”¨ç±»å‹å­˜å‚¨å¯¹å †ä¸Šå®é™…æ•°æ®çš„å¼•ç”¨ã€‚

:::

<b>`IDisposable` æ¥å£</b>

`IDisposable` æ¥å£ç”¨äºé‡Šæ”¾éæ‰˜ç®¡èµ„æºï¼Œä¾‹å¦‚æ–‡ä»¶å¥æŸ„ã€æ•°æ®åº“è¿æ¥æˆ–ç½‘ç»œå¥—æ¥å­—ã€‚

```csharp
public class ResourceManager : IDisposable
{
    private bool disposed = false;  // Track whether resources have been released
    private IntPtr handle;           // Example: unmanaged resource
    private Component component;      // Example: managed resource

    // Public Dispose method - called through the interface
    public void Dispose()
    {
        Dispose(true);
        GC.SuppressFinalize(this);  // Prevent finalizer from running
    }

    // Protected virtual Dispose method - allows derived classes to override
    protected virtual void Dispose(bool disposing)
    {
        if (!disposed)
        {
            if (disposing)
            {
                // Release managed resources
                if (component != null)
                {
                    component.Dispose();
                    component = null;
                }
            }

            // Release unmanaged resources
            if (handle != IntPtr.Zero)
            {
                Marshal.FreeHGlobal(handle);
                handle = IntPtr.Zero;
            }

            disposed = true;
        }
    }

    ~ResourceManager()
    {
        Dispose(false);
    }

    // Check if disposed before use
    protected void ThrowIfDisposed()
    {
        if (disposed)
        {
            throw new ObjectDisposedException(GetType().Name);
        }
    }
}
```

<b>`using` è¯­å¥</b>

```csharp
// Traditional syntax
using (var resource = new ResourceManager())
{
    resource.DoWork();
}  // Automatically calls Dispose()

// C# 8.0+ simplified syntax
using var resource = new ResourceManager();
resource.DoWork();
// Dispose() is automatically called at the end of the scope
```
